PLANO VISUAL – CryptoVision (Frontend)

Arquitetura de UI (Rotas)
- /summary — Resumo executivo (visão em 10s)
- /analysis — Análise detalhada por timeframe
- /signals — Sinais rápidos multi-timeframe
- /decisions — Histórico de decisões
- /news — Notícias + sentimento
- /orders — Ordens abertas (opcional)
- /status — Saúde do serviço
- /config — Admin (chaves, risco, sync, analyze)

Header
- Fixo com: seletor de símbolo (ex.: BTCUSDT), tema (dark), botão “Analisar agora” (POST /analyze).
- Sub‑header com breadcrumbs e “last update” (sincronizado ao TTL do backend).

Summary (GET /summary)
- Layout (grid 12 col):
  1) Ticker Card (12): preço atual, variação 24h (se disponível), mini‑sparkline (series.close).
  2) Decision Strip (12 md:6): decisão grande (BUY/SELL/HOLD), ConfidenceGauge (%), badge de direção (ALTA/BAIXA/NEUTRO).
  3) Risk & Positions (12 md:6 – se risk_summary): exposure, pnl, total_risk_pct, open_positions_count.
  4) Indicator Grid (12): RSI, MACD, SMA20/50/200, Bandas (valor + chip COMPRA/VENDA/NEUTRO).
  5) ML Panel (12): linear_regression_prediction, neural_network_prediction, best_model_prediction (destacar “best”).
  6) Sentiment (12 md:4): sentiment_score com escala (−1 → +1).
  7) Níveis‑Chave (12 md:8): suporte/resistência (pills) + linhas no mini‑chart.
- Estados: Loading (skeletons), Empty (mensagem), Error (banner com retry).
- Auto‑refresh: alinhado ao TTL (ex.: 10 min) + botão “Atualizar”.

Analysis (GET /analysis?tf=15m|1h|4h|1d)
- Header: Timeframe (pills), Período (1d/1w/1m), Indicador foco (RSI/MACD/BB/SMA), Atualizar.
- Layout 2 col:
  Esquerda (grande): chart principal (close + SMA20/50/200 + Bandas; overlays S/R), crosshair + tooltip (OHLC+RSI+MACD).
  Direita: painel técnico (decisão/confiança/direção, volatility_pct, TP/SL, interpretação textual, ML do TF).
- Rodapé: “última atualização” + etiqueta do TTL.

Signals (GET /direction por TF)
- Grade responsiva: 1m, 5m, 15m, 1h, 4h, 1d; por card: decisão, confiança %, RSI/MACD curtos; cores: BUY verde / SELL vermelho / HOLD âmbar.

Decisions (GET /decisions?limit=n)
- Tabela com paginação e filtros (tf/decision): ts, tf, decision, confidence %, price; botão export CSV.

News (notícias + sentimento)
- Lista de cards: título, fonte, data, sentiment (−1…+1), “Ler mais”; filtro por tema e busca.

Orders (GET /orders/open – opcional)
- Tabela: side, qty, price, status (chips); total notional no topo.

Status (GET /status)
- Health cards: binance, news, cache (hits/misses), uptime; semáforo (OK/degraded/down).

Config (GET/POST /config, POST /keys, POST /sync, POST /analyze)
- Form de chaves Binance; Risk limits (max_risk_pct); switch testnet/mainnet; botões Sync/Analyze; JSON readonly da config atual.

Componentes Reutilizáveis
- DecisionBadge (BUY/SELL/HOLD); ConfidenceGauge (0–100%, 3 cores); IndicatorCard (valor + sinal);
- MLPredictionCard (3 modelos + best);
- MiniSparkline (price/var 24h); KeyLevels (S/R pills); TimeframePills (1m–1d);
- ServiceHealth (status badges); JsonViewer (config/status).

Mapeamento UI → Endpoints
- Summary: /summary → price, decision, confidence, direction, indicators{rsi, macd, sma_20/50/200, bb_*}, ml_predictions{…}, sentiment_score, risk_summary{…?}.
- Analysis: /analysis?tf=… → decision, confidence, direction, entry_hour, volatility_pct, TP/SL, indicators{…}, ml_predictions{…}, series{time, close, sma20/50/200, bb_*}.
- Signals: /direction?tf=… (loop TFs) → price, decision, confidence, direction, indicators{rsi, macd}.
- Decisions: /decisions?limit=…; Orders: /orders/open?symbol=…; Status: /status; Config/Admin: /config, /keys, /sync, /analyze.

Estados & UX
- Loading skeletons em todos os cards; Empty states (“Sem dados para este timeframe”); Error com “tentar novamente”.
- Polling: respeitar TTL do backend (summary: ~10 min; direction: 30–60s); usar SWR/cache no cliente para fluidez.
- A11y: contraste AA, foco visível, atalhos (ex.: G muda timeframe); i18n pronto (pt/en).

Estilo (profissional)
- Dark neutro (#0b0f14 ~ #111827), cards #151a23, borda 1px #1f2633.
- Tipografia Inter/Plus Jakarta (14–15px base; títulos 600).
- Cores: verde #22c55e, vermelho #ef4444; espaçamentos p‑4/p‑6; micro‑animações sutis.

Organização do Código (sugestão)
src/
  pages/ (Summary.tsx, Analysis.tsx, Signals.tsx, Decisions.tsx, News.tsx, Orders.tsx, Status.tsx, Config.tsx)
  components/
    DecisionBadge.tsx
    ConfidenceGauge.tsx
    IndicatorCard.tsx
    MLPredictionCard.tsx
    MiniSparkline.tsx
    KeyLevels.tsx
    TimeframePills.tsx
    ServiceHealth.tsx
    JsonViewer.tsx
  hooks/
    useSummary.ts
    useAnalysis.ts
    useDirection.ts
    useDecisions.ts
    useStatus.ts
    useConfig.ts
  services/
    api.ts (fetchers: getSummary(), getAnalysis(tf), getDirection(tf), getDecisions(), getStatus(), getConfig(), postKeys(), postSync(), postAnalyze())

Notas de Implementação
- HTTP: fetch/axios com abortController e timeouts; resiliente a falhas intermitentes.
- Estado: SWR/React Query para cache e revalidação por TTL do backend.
- Charts: ECharts/Highcharts – crosshair/tooltip; sparkline simple.
- Acessibilidade: aria‑labels, foco visível; contraste verificado.
